program DiagonalAverage;
uses crt;

const
  N = 5;  {Розмірність матриці (можна змінити)}

var
  matrix: array[1..N, 1..N] of Integer;  // Двовимірний масив для зберігання матриці
  sum, i, j: Integer;  // Змінні для суми елементів на діагоналі та індексів
  avg: Real;  // Змінна для зберігання середнього арифметичного

begin
  Randomize;  // Ініціалізуємо генератор випадкових чисел

  {Автоматичне заповнення матриці випадковими числами від -100 до 100}
  WriteLn('Матриця з випадковими числами від -100 до 100:');
  for i := 1 to N do
    for j := 1 to N do
    begin
      matrix[i, j] := Random(201) - 100;  // Генеруємо випадкове число в діапазоні [-100, 100]
      Write(matrix[i, j]:4);  // Виводимо елемент матриці на екран
    end;
  WriteLn;  // Переходимо на новий рядок після виведення матриці

  {Обчислення суми елементів на головній діагоналі}
  sum := 0;  // Ініціалізуємо змінну для суми елементів на діагоналі
  for i := 1 to N do  // Ітерація по рядках і стовпцях одночасно, де i = j для головної діагоналі
    sum := sum + matrix[i, i];  // Додаємо елемент з головної діагоналі до суми

  {Обчислення середнього арифметичного}
  avg := sum / N;  // Середнє арифметичне = сума елементів діагоналі / кількість елементів

  {Виведення результату}
  WriteLn('Середнє арифметичне елементів на головній діагоналі: ', avg:0:2);  // Виводимо середнє арифметичне з точністю до двох знаків після коми
end.
